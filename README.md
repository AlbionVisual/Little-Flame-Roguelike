# Little Flame

Игра в жанре сильно приближённом к жанру Roguelike. Её суть заключается в блуждании по сгенерированной территории, сборе ресурсов, борьбе с врагами и выживании как можно дольше...

Подробнее описано [ниже](#little-flame-1).

[телеграм канале по ссылке](https://t.me/LyrataAI).

## Структура проекта

```
clips/
game_.py                        # Файлы, отвечающие за визуал приложения
map_.py | field_gen_paths.py          # Файлы, отвечающие за генерацию карт
_menu.py                        # Файлы-интерфейсы
graphics.py                     # Основное окно для запуска игры. Но не главного меню!
sprites.py                      # Файл-помощник
Textures/                       # Папка, содержащая все текстуры проекта
main.py                         # Основной запускаемый файл, дёргает все файлы проекта
README.md
settings.json                   # Файл с изменёнными настройками
```

## Подготовка к разработке

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/AlbionVisual/Little-Flame-Roguelike.git
    cd Little-Flame-Roguelike
    ```

2.  **Установите зависимости:**

    ```powershell
    pip install arcade==3.0.2
    ```

3.  **Стандартный запуск игры:**

    ```powershell
    python main.py
    ```

## Технологии

- Python 3
  - Arcade

## Little Flame

### Генераторы

В первую очередь программа генерирует карту / лабиринт для игрока. Реализовано несколько разных алгоритмов доступных в game/generators, а через интерфейс можно выбрать какой из них использовать. Сами сгенерированные карты выглядят сначала так:

![Сравнение двух карт](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/comparing-white-noise-to-layered.png)

Потом алгоритм на основе какой-то сгенерированной карте при помощи настроек выбирает где ставить стену, а где пол:

![Демонстрация случайного расположения стен](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/white-noise-map.png)

![Демонстрация алгоритма слоёв](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/survival-game-view.png)

Эти картинки демонстрируют преобразование ч/б карт выше в карту игры. Первая - полностью случайная, вторая - накладывает слоя первой для получения более гармоничной картинки. Также есть третий алгоритм, основанный на методе коридора-комнат:

![Демонстрация алгоритма коридоров-комнат](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/full-screen-paths-view.png)

### Режимы игры

Перед стартом у игрока есть выбор:

![Демонстрация главного меню](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/main-menu.png)

Два режима: бесконечный, где игрок просто бродит по карте собирая ресурсы и убивая врагов, и выживание, где игрок имеет уровень здоровья, который уменьшается со временем и при касании врагами, а также ограниченную зону, которая настраивается в настройках, либо кодом. После того, как здоровье упадёт меньше нуля появится интерфейс проигрыша:

![Демонстрация интерфейса проигрыша](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/gameover-view.png)

### Возможности

Игра предоставляет возможность не просто путешествовать и драться в бесконечном мире, но и взаимодействовать с ресурсами. Сначала их нужно просто найти и подобрать себе в инвентарь, а затем, при помощи узоров, можно будет создавать новые предметы выкладывая их на пол:

![Демонстрация крафтинга](https://github.com/AlbionVisual/Little-Flame-Roguelike/blob/main/clips/сrafting-view.png)

На картинках также уже продемонстрирована механика освещения. Те места, где игрок уже побывал остаются освещёнными (серые стены и пол на карте), новые "неразведанные" места остаются неизвестными (чёрные клетки на карте), пока игрок не осветит их своим огненным светом. Свет распространяется от игрока и зависит от его здоровья: чем оно выше, тем больше радиус света. Свет также имеет несколько алгоритмов, но переключить их можно только при помощи изменения файлов. Самый первый созданный алгоритм просто освещал клетки "распространяясь" по полу, пока не закончится сила огня. Второй алгоритм учитывает, что проход по диагонали не всегда возможен и не распространяется через диагонально расположенные клетки стен, но зато имеет баг.

Сама камера, которая строго привязана к игроку и держит его в центре также может менять свою "физику". По умолчанию она намертво привязана к игроку и строго держит его в центре экрана, но можно включить функцию задержки движения так, чтобы она как бы "плавала" за игроком.
